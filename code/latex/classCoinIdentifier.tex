\hypertarget{classCoinIdentifier}{}\doxysection{Coin\+Identifier Class Reference}
\label{classCoinIdentifier}\index{CoinIdentifier@{CoinIdentifier}}


{\ttfamily \#include $<$Coin\+Identifier.\+hpp$>$}

Inheritance diagram for Coin\+Identifier\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classCoinIdentifier}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classCoinIdentifier_af1c6e641a0cac37e50f6bbd10c466f61}\label{classCoinIdentifier_af1c6e641a0cac37e50f6bbd10c466f61}} 
enum \{ {\bfseries I\+D\+\_\+\+I\+D\+E\+N\+T\+I\+F\+Y\+\_\+\+I\+ND}, 
{\bfseries I\+D\+\_\+\+C\+O\+I\+N\+\_\+\+I\+ND}
 \}
\begin{DoxyCompactList}\small\item\em Event message ID\textquotesingle{}s. Used to cast wrapper structs. They are received as their base-\/class Message and therefore need to be identified and casted. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classCoinIdentifier_ae925a2fe3821bb02cda27c948e222307}\label{classCoinIdentifier_ae925a2fe3821bb02cda27c948e222307}} 
\mbox{\hyperlink{classCoinIdentifier_ae925a2fe3821bb02cda27c948e222307}{Coin\+Identifier}} (\mbox{\hyperlink{classosapi_1_1BasicMsgQueue}{osapi\+::\+Msg\+Queue}} $\ast$receiver\+Mq)
\begin{DoxyCompactList}\small\item\em Constructor. Parameter is the specifiable receiver of coin value indication events. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_a6a93d1e39be515da841054d5033d5669}\label{classCoinIdentifier_a6a93d1e39be515da841054d5033d5669}} 
\mbox{\hyperlink{classosapi_1_1BasicMsgQueue}{osapi\+::\+Msg\+Queue}} $\ast$ \mbox{\hyperlink{classCoinIdentifier_a6a93d1e39be515da841054d5033d5669}{get\+Msg\+Queue}} ()
\begin{DoxyCompactList}\small\item\em Returns message queue of the class. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classCoinIdentifier_aa0cd52f5e3a081a233a30c6186811fd5}\label{classCoinIdentifier_aa0cd52f5e3a081a233a30c6186811fd5}} 
static const int \mbox{\hyperlink{classCoinIdentifier_aa0cd52f5e3a081a233a30c6186811fd5}{M\+A\+X\+\_\+\+Q\+U\+E\+U\+E\+\_\+\+S\+I\+ZE}} = 64
\begin{DoxyCompactList}\small\item\em Message queue size. Sending on a full queue will block sender to keep synchronized. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classCoinIdentifier_aa8a415eb776528e7ceb577e9e40b4017}{run}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classCoinIdentifier_a0570927883c6e25632fcfed8e129bedc}\label{classCoinIdentifier_a0570927883c6e25632fcfed8e129bedc}} 
void \mbox{\hyperlink{classCoinIdentifier_a0570927883c6e25632fcfed8e129bedc}{Coin\+Identifier\+Handler}} (unsigned int id, \mbox{\hyperlink{classosapi_1_1Message}{osapi\+::\+Message}} $\ast$msg)
\begin{DoxyCompactList}\small\item\em Indentifies messages on received on \mbox{\hyperlink{classCoinIdentifier}{Coin\+Identifier}}\textquotesingle{}s message queue, casts the message if needed and starts the correct handler function. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_a72ecb038aee585d4f3d978d60b739688}\label{classCoinIdentifier_a72ecb038aee585d4f3d978d60b739688}} 
void \mbox{\hyperlink{classCoinIdentifier_a72ecb038aee585d4f3d978d60b739688}{Coin\+Identifier\+Handle\+Identify}} (\mbox{\hyperlink{structCoinTimings}{Coin\+Timings}} $\ast$timing)
\begin{DoxyCompactList}\small\item\em Identifies a coin based on it\textquotesingle{}s timesignature, then sends the appropriate coin value indication event to a receiver. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_a9cc8e008fe1efd2e25574f1145b0ce51}\label{classCoinIdentifier_a9cc8e008fe1efd2e25574f1145b0ce51}} 
float \mbox{\hyperlink{classCoinIdentifier_a9cc8e008fe1efd2e25574f1145b0ce51}{width\+To\+Value}} (float width\+In\+Millimeter)
\begin{DoxyCompactList}\small\item\em Calculate coin value based on its width, using the coin boundaries in the \mbox{\hyperlink{classCoinIdentifier}{Coin\+Identifier}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classCoinIdentifier_a731510390ceb046f7df0797d08442764}\label{classCoinIdentifier_a731510390ceb046f7df0797d08442764}} 
bool \mbox{\hyperlink{classCoinIdentifier_a731510390ceb046f7df0797d08442764}{running\+\_\+}}
\begin{DoxyCompactList}\small\item\em Event loop exit if set to false. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_af3325a058ea0d2623c37e8475358fae1}\label{classCoinIdentifier_af3325a058ea0d2623c37e8475358fae1}} 
\mbox{\hyperlink{classosapi_1_1BasicMsgQueue}{osapi\+::\+Msg\+Queue}} \mbox{\hyperlink{classCoinIdentifier_af3325a058ea0d2623c37e8475358fae1}{mq\+\_\+}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classCoinIdentifier}{Coin\+Identifier}}\textquotesingle{}s F\+I\+FO message queue where received events are stored. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_aae6f842d9b7a9ecd3c663611d56eee54}\label{classCoinIdentifier_aae6f842d9b7a9ecd3c663611d56eee54}} 
float \mbox{\hyperlink{classCoinIdentifier_aae6f842d9b7a9ecd3c663611d56eee54}{boundary\+Width\+One\+Lower}} = 9.\+41
\begin{DoxyCompactList}\small\item\em Lower boundary value in millimeters for one-\/crown. If a lower value is registered, the coin i undefined. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_ae730501aeb21f32a9ed649d05f53466f}\label{classCoinIdentifier_ae730501aeb21f32a9ed649d05f53466f}} 
float \mbox{\hyperlink{classCoinIdentifier_ae730501aeb21f32a9ed649d05f53466f}{boundary\+Width\+One\+Fifty}} = 9.\+85
\begin{DoxyCompactList}\small\item\em Boundary value in millimeters between one-\/crown (lower) and fify-\/oere (upper). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_a4c90e09a50c15c4c01155836785adaa8}\label{classCoinIdentifier_a4c90e09a50c15c4c01155836785adaa8}} 
float \mbox{\hyperlink{classCoinIdentifier_a4c90e09a50c15c4c01155836785adaa8}{boundary\+Width\+Fifty\+Ten}} = 10.\+39
\begin{DoxyCompactList}\small\item\em Boundary value in millimeters between fifty-\/oere (lower) and ten-\/crown (upper). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_a5d63e59e779be4fcb3875f155036d22d}\label{classCoinIdentifier_a5d63e59e779be4fcb3875f155036d22d}} 
float \mbox{\hyperlink{classCoinIdentifier_a5d63e59e779be4fcb3875f155036d22d}{boundary\+Width\+Ten\+Two}} = 10.\+88
\begin{DoxyCompactList}\small\item\em Boundary value in millimeters between ten-\/crown (lower) and two-\/crown (upper). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_a07894e5b275b8bb88404cd4130c2f1de}\label{classCoinIdentifier_a07894e5b275b8bb88404cd4130c2f1de}} 
float \mbox{\hyperlink{classCoinIdentifier_a07894e5b275b8bb88404cd4130c2f1de}{boundary\+Width\+Two\+Twenty}} = 11.\+45
\begin{DoxyCompactList}\small\item\em Boundary value in millimeters between two-\/crown (lower) and twenty-\/crown (upper). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_a03b04843f1632174d55c3834d533874a}\label{classCoinIdentifier_a03b04843f1632174d55c3834d533874a}} 
float \mbox{\hyperlink{classCoinIdentifier_a03b04843f1632174d55c3834d533874a}{boundary\+Width\+Twenty\+Five}} = 12.\+05
\begin{DoxyCompactList}\small\item\em Boundary value in millimeters between twenty-\/crown (lower) and five-\/crown (upper). \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_a81c9be61dbc6c97f5c2e017c11ce753b}\label{classCoinIdentifier_a81c9be61dbc6c97f5c2e017c11ce753b}} 
float \mbox{\hyperlink{classCoinIdentifier_a81c9be61dbc6c97f5c2e017c11ce753b}{boundary\+Width\+Five\+Upper}} = 12.\+49
\begin{DoxyCompactList}\small\item\em Upper boundary value in millimeters for five-\/crown. If a higher value is registered, the coin is undefined. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_a9b1c68a8a130d8c3cb19e4764dffe646}\label{classCoinIdentifier_a9b1c68a8a130d8c3cb19e4764dffe646}} 
float \mbox{\hyperlink{classCoinIdentifier_a9b1c68a8a130d8c3cb19e4764dffe646}{sensor\+Distance\+Millimeter\+\_\+}} = 5
\begin{DoxyCompactList}\small\item\em Distance in millimeters between sensors in the direction of coin-\/movement. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classCoinIdentifier_a2e3691865e1038feaa1283b441f84d5d}\label{classCoinIdentifier_a2e3691865e1038feaa1283b441f84d5d}} 
\mbox{\hyperlink{classosapi_1_1BasicMsgQueue}{osapi\+::\+Msg\+Queue}} $\ast$ \mbox{\hyperlink{classCoinIdentifier_a2e3691865e1038feaa1283b441f84d5d}{receiver\+\_\+}}
\begin{DoxyCompactList}\small\item\em Message queue of the receiver of the coin value indication event. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Identifies coin values based on received coin time signatures and sends the value to specifiable receiver. \mbox{\hyperlink{structCoin}{Coin}} width boundaries and sensor distances have been hard-\/coded into the class. The class inherits from O\+S\+A\+PI Thread\+Functor class to enable starting the c++ class as a thread using P\+O\+S\+I\+X-\/threads. 

Definition at line 27 of file Coin\+Identifier.\+hpp.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classCoinIdentifier_aa8a415eb776528e7ceb577e9e40b4017}\label{classCoinIdentifier_aa8a415eb776528e7ceb577e9e40b4017}} 
\index{CoinIdentifier@{CoinIdentifier}!run@{run}}
\index{run@{run}!CoinIdentifier@{CoinIdentifier}}
\doxysubsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily void Coin\+Identifier\+::run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}

Event loop. Receives messages from the message queue, calls the handler, then deletes the message. Is inherited from the Thread\+Functor class and overwritten. 

Implements \mbox{\hyperlink{classosapi_1_1ThreadFunctor}{osapi\+::\+Thread\+Functor}}.



Definition at line 10 of file Coin\+Identifier.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{11 \{}
\DoxyCodeLine{12   std::cout << \textcolor{stringliteral}{"Event loop in CoinIdentifier started running!"} << std::endl;}
\DoxyCodeLine{13   \textcolor{keywordflow}{while}(\mbox{\hyperlink{classCoinIdentifier_a731510390ceb046f7df0797d08442764}{running\_}})}
\DoxyCodeLine{14   \{}
\DoxyCodeLine{15     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{int} id;}
\DoxyCodeLine{16     \mbox{\hyperlink{classosapi_1_1Message}{osapi::Message}}* msg = \mbox{\hyperlink{classCoinIdentifier_af3325a058ea0d2623c37e8475358fae1}{mq\_}}.receive(\textcolor{keywordtype}{id});}
\DoxyCodeLine{17     \mbox{\hyperlink{classCoinIdentifier_a0570927883c6e25632fcfed8e129bedc}{CoinIdentifierHandler}}(\textcolor{keywordtype}{id}, msg);}
\DoxyCodeLine{18     \textcolor{keyword}{delete} msg;}
\DoxyCodeLine{19   \}}
\DoxyCodeLine{20 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Coin\+Detecting\+Sensors/\+O\+S\+Api\+Student/\+C\+D\+S/Coin\+Identifier.\+hpp\item 
Coin\+Detecting\+Sensors/\+O\+S\+Api\+Student/\+C\+D\+S/Coin\+Identifier.\+cpp\end{DoxyCompactItemize}

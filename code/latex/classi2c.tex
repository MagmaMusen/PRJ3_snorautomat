\hypertarget{classi2c}{}\doxysection{i2c Class Reference}
\label{classi2c}\index{i2c@{i2c}}


{\ttfamily \#include $<$I2\+C\+Virtual.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classi2c_a1345bb2ac3256534c0e7b10c6f7c358e}{i2c}} (int adresse)
\item 
void \mbox{\hyperlink{classi2c_a74992c4494bcccf99bdffad173ed3ad7}{i2c\+Send}} (char buffer1)
\item 
char \mbox{\hyperlink{classi2c_a72926254017aa56a3d940d98d004cef2}{i2c\+Receive}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classi2c_a29bf620fd66127491f7c938b787384a4}{adresse\+\_\+}}
\item 
char \mbox{\hyperlink{classi2c_a2fb8245bbf3aca8e79f41d327439aaf8}{buffer\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 7 of file I2\+C\+Virtual.\+hpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classi2c_a1345bb2ac3256534c0e7b10c6f7c358e}\label{classi2c_a1345bb2ac3256534c0e7b10c6f7c358e}} 
\index{i2c@{i2c}!i2c@{i2c}}
\index{i2c@{i2c}!i2c@{i2c}}
\doxysubsubsection{\texorpdfstring{i2c()}{i2c()}}
{\footnotesize\ttfamily i2c\+::i2c (\begin{DoxyParamCaption}\item[{int}]{adresse }\end{DoxyParamCaption})}



Definition at line 5 of file I2\+C\+Virtual.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{6 \{}
\DoxyCodeLine{7     \mbox{\hyperlink{classi2c_a29bf620fd66127491f7c938b787384a4}{adresse\_}} = adresse; }
\DoxyCodeLine{8     }
\DoxyCodeLine{9     \textcolor{keywordtype}{char} *filename = (\textcolor{keywordtype}{char}*) \textcolor{stringliteral}{"/dev/i2c-\/1"};}
\DoxyCodeLine{10 }
\DoxyCodeLine{11     \textcolor{keywordflow}{if}((\mbox{\hyperlink{I2CVirtual_8cpp_a8dd1a45bc5567056b03e24febf185198}{fd\_i2c}} = open (filename, O\_RDWR)) < 0)}
\DoxyCodeLine{12     \{}
\DoxyCodeLine{13         printf(\textcolor{stringliteral}{"Failed to open i2c\(\backslash\)n"}); \textcolor{comment}{// Printing out a error message if /dev/i2c wasn't able to be openned}}
\DoxyCodeLine{14     \}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16     \textcolor{keywordflow}{if}(ioctl(\mbox{\hyperlink{I2CVirtual_8cpp_a8dd1a45bc5567056b03e24febf185198}{fd\_i2c}}, \mbox{\hyperlink{I2CVirtual_8cpp_a19b682b84b1b25bf5c1bcac72c7c77f7}{I2C\_IOCTL}}, \mbox{\hyperlink{classi2c_a29bf620fd66127491f7c938b787384a4}{adresse\_}}) < 0)}
\DoxyCodeLine{17     \{}
\DoxyCodeLine{18         printf(\textcolor{stringliteral}{"Failed to open IOCTL\(\backslash\)n"}); \textcolor{comment}{// Printing out a error message if IOCTL wasn't able to be openned}}
\DoxyCodeLine{19     \}       }
\DoxyCodeLine{20 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classi2c_a72926254017aa56a3d940d98d004cef2}\label{classi2c_a72926254017aa56a3d940d98d004cef2}} 
\index{i2c@{i2c}!i2cReceive@{i2cReceive}}
\index{i2cReceive@{i2cReceive}!i2c@{i2c}}
\doxysubsubsection{\texorpdfstring{i2cReceive()}{i2cReceive()}}
{\footnotesize\ttfamily char i2c\+::i2c\+Receive (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 35 of file I2\+C\+Virtual.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{36 \{}
\DoxyCodeLine{37       \textcolor{comment}{// Receive bytes}}
\DoxyCodeLine{38         \textcolor{keywordtype}{int} length = 1; \textcolor{comment}{//Number of bytes to receive}}
\DoxyCodeLine{39         \textcolor{keywordtype}{char} bufferReceive;}
\DoxyCodeLine{40         \textcolor{keywordtype}{char} bufferReceiveArray[60] = \{0\};}
\DoxyCodeLine{41         \textcolor{comment}{//bufferReceiveArray[0] = bufferReceive;}}
\DoxyCodeLine{42         \textcolor{keywordflow}{if} (read(\mbox{\hyperlink{I2CVirtual_8cpp_a8dd1a45bc5567056b03e24febf185198}{fd\_i2c}}, bufferReceiveArray, length) != length)}
\DoxyCodeLine{43         \{}
\DoxyCodeLine{44             }
\DoxyCodeLine{45             printf(\textcolor{stringliteral}{"Failed to read I2C bus\(\backslash\)n"}); \textcolor{comment}{// Printing out a error message if it wasn't able to read bytes}}
\DoxyCodeLine{46             \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{47         \}}
\DoxyCodeLine{48         \textcolor{keywordflow}{else}}
\DoxyCodeLine{49         \{}
\DoxyCodeLine{50             bufferReceive = bufferReceiveArray[0];}
\DoxyCodeLine{51             \textcolor{keywordtype}{int} value;}
\DoxyCodeLine{52             sscanf(bufferReceiveArray, \textcolor{stringliteral}{"\%d"},value); \textcolor{comment}{// Convert from char to integer}}
\DoxyCodeLine{53             printf(\textcolor{stringliteral}{"Received data: \%d\(\backslash\)n"}, value); \textcolor{comment}{//Print the value*/}}
\DoxyCodeLine{54             printf(\textcolor{stringliteral}{"Received data in char: \%c \(\backslash\)n"}, bufferReceiveArray);}
\DoxyCodeLine{55             \textcolor{keywordflow}{return} bufferReceiveArray[0];}
\DoxyCodeLine{56         \}  }
\DoxyCodeLine{57         }
\DoxyCodeLine{58         \textcolor{comment}{/* return value; // if we want to return a integer instead */}}
\DoxyCodeLine{59     }
\DoxyCodeLine{60 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classi2c_a74992c4494bcccf99bdffad173ed3ad7}\label{classi2c_a74992c4494bcccf99bdffad173ed3ad7}} 
\index{i2c@{i2c}!i2cSend@{i2cSend}}
\index{i2cSend@{i2cSend}!i2c@{i2c}}
\doxysubsubsection{\texorpdfstring{i2cSend()}{i2cSend()}}
{\footnotesize\ttfamily void i2c\+::i2c\+Send (\begin{DoxyParamCaption}\item[{char}]{buffer1 }\end{DoxyParamCaption})}



Definition at line 21 of file I2\+C\+Virtual.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{22 \{}
\DoxyCodeLine{23     \textcolor{comment}{// Write bytes}}
\DoxyCodeLine{24     \textcolor{comment}{//buffer[1] = 0b00000001; // Opportunity to expand}}
\DoxyCodeLine{25     \textcolor{keywordtype}{int} length = 2; \textcolor{comment}{// Number of bytes to send}}
\DoxyCodeLine{26     \textcolor{keywordtype}{char} bufferArray[60];}
\DoxyCodeLine{27     bufferArray[0] = buffer1;}
\DoxyCodeLine{28     \textcolor{comment}{//bufferArray[1] = buffer2;}}
\DoxyCodeLine{29     \textcolor{keywordflow}{if}(write(\mbox{\hyperlink{I2CVirtual_8cpp_a8dd1a45bc5567056b03e24febf185198}{fd\_i2c}}, bufferArray, length) != length)}
\DoxyCodeLine{30     \{}
\DoxyCodeLine{31         printf(\textcolor{stringliteral}{"Failed to send I2C bus\(\backslash\)n"});}
\DoxyCodeLine{32     \}}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classi2c_a29bf620fd66127491f7c938b787384a4}\label{classi2c_a29bf620fd66127491f7c938b787384a4}} 
\index{i2c@{i2c}!adresse\_@{adresse\_}}
\index{adresse\_@{adresse\_}!i2c@{i2c}}
\doxysubsubsection{\texorpdfstring{adresse\_}{adresse\_}}
{\footnotesize\ttfamily int i2c\+::adresse\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 30 of file I2\+C\+Virtual.\+hpp.

\mbox{\Hypertarget{classi2c_a2fb8245bbf3aca8e79f41d327439aaf8}\label{classi2c_a2fb8245bbf3aca8e79f41d327439aaf8}} 
\index{i2c@{i2c}!buffer\_@{buffer\_}}
\index{buffer\_@{buffer\_}!i2c@{i2c}}
\doxysubsubsection{\texorpdfstring{buffer\_}{buffer\_}}
{\footnotesize\ttfamily char i2c\+::buffer\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 31 of file I2\+C\+Virtual.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
rpi/\+I2\+C\+Virtual/\mbox{\hyperlink{I2CVirtual_8hpp}{I2\+C\+Virtual.\+hpp}}\item 
rpi/\+I2\+C\+Virtual/\mbox{\hyperlink{I2CVirtual_8cpp}{I2\+C\+Virtual.\+cpp}}\end{DoxyCompactItemize}

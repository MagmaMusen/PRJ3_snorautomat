<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Snorautomat: PSoC programmer/Doserings_main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Snorautomat
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a5fd836d45ea7132994a39aff572b5f5.html">PSoC programmer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Doserings_main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;project.h&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Doserings_main.c:</div>
<div class="dyncontent">
<div class="center"><img src="_doserings__main_8c__incl.png" border="0" usemap="#_p_so_c_01programmer_2_doserings__main_8c" alt=""/></div>
<map name="_p_so_c_01programmer_2_doserings__main_8c" id="_p_so_c_01programmer_2_doserings__main_8c">
<area shape="rect" title=" " alt="" coords="5,5,196,47"/>
<area shape="rect" title=" " alt="" coords="19,95,91,121"/>
<area shape="rect" title=" " alt="" coords="115,95,177,121"/>
</map>
</div>
</div>
<p><a href="_doserings__main_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7733a7876b9b5e0e31deda1d53e3b465"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_doserings__main_8c.html#a7733a7876b9b5e0e31deda1d53e3b465">Wait</a>(x)</td></tr>
<tr class="separator:a7733a7876b9b5e0e31deda1d53e3b465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab709b7d4be70f1cf6498fdc3ecf9f288"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_doserings__main_8c.html#ab709b7d4be70f1cf6498fdc3ecf9f288">BufSize</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ab709b7d4be70f1cf6498fdc3ecf9f288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd5cb8538338c7de4d4581ff177f3edd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_doserings__main_8c.html#acd5cb8538338c7de4d4581ff177f3edd">SlaveAddr</a>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:acd5cb8538338c7de4d4581ff177f3edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a34b8eb6e472ea6ac111dad1f87b8dae5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_doserings__main_8c.html#a34b8eb6e472ea6ac111dad1f87b8dae5">Dosering</a> (void)</td></tr>
<tr class="separator:a34b8eb6e472ea6ac111dad1f87b8dae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a833ae5df42b94980166b3b815a14b91a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_doserings__main_8c.html#a833ae5df42b94980166b3b815a14b91a">InitializePWM</a> (void)</td></tr>
<tr class="separator:a833ae5df42b94980166b3b815a14b91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fcae6ac5c66199840fe21526701cd10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_doserings__main_8c.html#a6fcae6ac5c66199840fe21526701cd10">InitializeSystem</a> (void)</td></tr>
<tr class="separator:a6fcae6ac5c66199840fe21526701cd10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_doserings__main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae29b53a64f22bd0b400f5e800cc06143"><td class="memItemLeft" align="right" valign="top">uint8&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_doserings__main_8c.html#ae29b53a64f22bd0b400f5e800cc06143">wrBuf</a> [<a class="el" href="_doserings__main_8c.html#ab709b7d4be70f1cf6498fdc3ecf9f288">BufSize</a>]</td></tr>
<tr class="separator:ae29b53a64f22bd0b400f5e800cc06143"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ab709b7d4be70f1cf6498fdc3ecf9f288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab709b7d4be70f1cf6498fdc3ecf9f288">&#9670;&nbsp;</a></span>BufSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BufSize&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of I2C buffers </p>

<p class="definition">Definition at line <a class="el" href="_doserings__main_8c_source.html#l00030">30</a> of file <a class="el" href="_doserings__main_8c_source.html">Doserings_main.c</a>.</p>

</div>
</div>
<a id="acd5cb8538338c7de4d4581ff177f3edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd5cb8538338c7de4d4581ff177f3edd">&#9670;&nbsp;</a></span>SlaveAddr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SlaveAddr&#160;&#160;&#160;0x08</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Slave Address, every Slave must have an address to be known by the Master </p>

<p class="definition">Definition at line <a class="el" href="_doserings__main_8c_source.html#l00034">34</a> of file <a class="el" href="_doserings__main_8c_source.html">Doserings_main.c</a>.</p>

</div>
</div>
<a id="a7733a7876b9b5e0e31deda1d53e3b465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7733a7876b9b5e0e31deda1d53e3b465">&#9670;&nbsp;</a></span>Wait</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Wait</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Just for writeability </p>

<p class="definition">Definition at line <a class="el" href="_doserings__main_8c_source.html#l00026">26</a> of file <a class="el" href="_doserings__main_8c_source.html">Doserings_main.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a34b8eb6e472ea6ac111dad1f87b8dae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34b8eb6e472ea6ac111dad1f87b8dae5">&#9670;&nbsp;</a></span>Dosering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Dosering </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dosering function</p>
<p>This function will first check on the write slave flag, if it is low nothing will happen but the function will be runned agin. the function will turn on the specific servo motor all after which is the buffer size contains, and after that will generate the PWM signal to run the Motor. when the motor is done running, the slave buffer and flag will be cleared. <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="_doserings__main_8c_source.html#l00086">86</a> of file <a class="el" href="_doserings__main_8c_source.html">Doserings_main.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                   {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;     <span class="keywordflow">if</span>(Slave_I2C_SlaveStatus() &amp; Slave_I2C_SSTAT_WR_CMPLT )  <span class="comment">//Check if read transaction is completed</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        {    </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            uint8 I2C= Slave_I2C_SlaveGetWriteBufSize();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;              uint8 ii = 0;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordflow">for</span> (ii = 0; ii &lt; I2C; ii++)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="_doserings__main_8c.html#ae29b53a64f22bd0b400f5e800cc06143">wrBuf</a>[ii] == 0b00110010)</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                    PWM_50_WriteCompare(2000);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                    CyDelay(1000);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                    PWM_50_WriteCompare(4000);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                    CyDelay(1000);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                   </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                    <span class="comment">//gør hvad der skal gøres for 50 øre</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="_doserings__main_8c.html#ae29b53a64f22bd0b400f5e800cc06143">wrBuf</a>[ii] == 0b00000001)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                     PWM_1_WriteCompare(2000);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    CyDelay(1000);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                    PWM_1_WriteCompare(4000);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    CyDelay(1000);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                    Pin_1_Write(1);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    <span class="comment">//gør hvad der skal gøres for 1 krone</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="_doserings__main_8c.html#ae29b53a64f22bd0b400f5e800cc06143">wrBuf</a>[ii] == 0b00000010)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                     PWM_2_WriteCompare(2000);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                    CyDelay(1000);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    PWM_2_WriteCompare(4000);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    CyDelay(1000);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    <span class="comment">//gør hvad der skal gøres for 2 kroner</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="_doserings__main_8c.html#ae29b53a64f22bd0b400f5e800cc06143">wrBuf</a>[ii] == 0b00000101)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                     PWM_5_WriteCompare(2000);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    CyDelay(1000);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                    PWM_5_WriteCompare(4000);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                    CyDelay(1000);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    <span class="comment">//gør hvad der skal gøres for 5 kroner</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="_doserings__main_8c.html#ae29b53a64f22bd0b400f5e800cc06143">wrBuf</a>[ii] == 0b00001010)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    PWM_10_WriteCompare(2000);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                    CyDelay(1000);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    PWM_10_WriteCompare(4000);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    CyDelay(1000);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    <span class="comment">//gør hvad der skal gøres for 10 kroner</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            Slave_I2C_SlaveClearWriteStatus();</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;              </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_doserings__main_8c_a34b8eb6e472ea6ac111dad1f87b8dae5_icgraph.png" border="0" usemap="#_doserings__main_8c_a34b8eb6e472ea6ac111dad1f87b8dae5_icgraph" alt=""/></div>
<map name="_doserings__main_8c_a34b8eb6e472ea6ac111dad1f87b8dae5_icgraph" id="_doserings__main_8c_a34b8eb6e472ea6ac111dad1f87b8dae5_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,177,32"/>
<area shape="rect" href="_doserings__main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a833ae5df42b94980166b3b815a14b91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a833ae5df42b94980166b3b815a14b91a">&#9670;&nbsp;</a></span>InitializePWM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitializePWM </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This part is to init the PWM. First we start the PWM that we placed in the TopDesign. after that the PWM_x_WriteCompare Writes the compare values for the compare output. </p>

<p class="definition">Definition at line <a class="el" href="_doserings__main_8c_source.html#l00150">150</a> of file <a class="el" href="_doserings__main_8c_source.html">Doserings_main.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    PWM_50_Start();</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    PWM_50_WriteCompare(1);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    PWM_1_Start();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    PWM_1_WriteCompare(1);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    PWM_2_Start();</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    PWM_2_WriteCompare(1);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    PWM_5_Start();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    PWM_5_WriteCompare(1);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    PWM_10_Start();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    PWM_10_WriteCompare(1);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_doserings__main_8c_a833ae5df42b94980166b3b815a14b91a_icgraph.png" border="0" usemap="#_doserings__main_8c_a833ae5df42b94980166b3b815a14b91a_icgraph" alt=""/></div>
<map name="_doserings__main_8c_a833ae5df42b94980166b3b815a14b91a_icgraph" id="_doserings__main_8c_a833ae5df42b94980166b3b815a14b91a_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,207,32"/>
<area shape="rect" href="_doserings__main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="a6fcae6ac5c66199840fe21526701cd10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fcae6ac5c66199840fe21526701cd10">&#9670;&nbsp;</a></span>InitializeSystem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitializeSystem </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This section can be read in the snorudrullning program. </p>

<p class="definition">Definition at line <a class="el" href="_doserings__main_8c_source.html#l00067">67</a> of file <a class="el" href="_doserings__main_8c_source.html">Doserings_main.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{ </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    CyGlobalIntEnable;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    Slave_I2C_Start();  <span class="comment">//  Initialize I2C slave</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    uint8 *buf = &amp;<a class="code" href="_doserings__main_8c.html#ae29b53a64f22bd0b400f5e800cc06143">wrBuf</a>[0];</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    Slave_I2C_SlaveInitWriteBuf(buf,<a class="code" href="_doserings__main_8c.html#ab709b7d4be70f1cf6498fdc3ecf9f288">BufSize</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    Slave_I2C_SlaveClearWriteBuf();                                     </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    CyDelay(500); </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_doserings__main_8c_a6fcae6ac5c66199840fe21526701cd10_icgraph.png" border="0" usemap="#_doserings__main_8c_a6fcae6ac5c66199840fe21526701cd10_icgraph" alt=""/></div>
<map name="_doserings__main_8c_a6fcae6ac5c66199840fe21526701cd10_icgraph" id="_doserings__main_8c_a6fcae6ac5c66199840fe21526701cd10_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,219,32"/>
<area shape="rect" href="_doserings__main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title=" " alt="" coords="5,5,56,32"/>
</map>
</div>

</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The program will run in the main. The InitializeSystem and the will be called to initialize the I2C function. The <a class="el" href="_doserings__main_8c.html#a833ae5df42b94980166b3b815a14b91a">InitializePWM()</a> will be called to initialize the PWM function. The for Loop contains the Dosering function which is the most important part in the program. </p>

<p class="definition">Definition at line <a class="el" href="_doserings__main_8c_source.html#l00049">49</a> of file <a class="el" href="_doserings__main_8c_source.html">Doserings_main.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="_doserings__main_8c.html#a6fcae6ac5c66199840fe21526701cd10">InitializeSystem</a>();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="_doserings__main_8c.html#a833ae5df42b94980166b3b815a14b91a">InitializePWM</a>();</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">for</span>(;;)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="_doserings__main_8c.html#a34b8eb6e472ea6ac111dad1f87b8dae5">Dosering</a>();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;       </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    } </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;   <span class="keywordflow">return</span> 0; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="_doserings__main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph.png" border="0" usemap="#_doserings__main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph" alt=""/></div>
<map name="_doserings__main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph" id="_doserings__main_8c_ae66f6b31b5ad750f1fe042a706a4e3d4_cgraph">
<area shape="rect" title=" " alt="" coords="5,56,56,83"/>
<area shape="rect" href="_doserings__main_8c.html#a34b8eb6e472ea6ac111dad1f87b8dae5" title=" " alt="" coords="125,5,198,32"/>
<area shape="rect" href="_doserings__main_8c.html#a833ae5df42b94980166b3b815a14b91a" title=" " alt="" coords="110,56,213,83"/>
<area shape="rect" href="_doserings__main_8c.html#a6fcae6ac5c66199840fe21526701cd10" title=" " alt="" coords="104,107,219,133"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae29b53a64f22bd0b400f5e800cc06143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae29b53a64f22bd0b400f5e800cc06143">&#9670;&nbsp;</a></span>wrBuf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8 wrBuf[<a class="el" href="_doserings__main_8c.html#ab709b7d4be70f1cf6498fdc3ecf9f288">BufSize</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the Buffer for the Slave, Master will use this buffer. </p>

<p class="definition">Definition at line <a class="el" href="_doserings__main_8c_source.html#l00037">37</a> of file <a class="el" href="_doserings__main_8c_source.html">Doserings_main.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="a_doserings__main_8c_html_ae29b53a64f22bd0b400f5e800cc06143"><div class="ttname"><a href="_doserings__main_8c.html#ae29b53a64f22bd0b400f5e800cc06143">wrBuf</a></div><div class="ttdeci">uint8 wrBuf[BufSize]</div><div class="ttdef"><b>Definition:</b> <a href="_doserings__main_8c_source.html#l00037">Doserings_main.c:37</a></div></div>
<div class="ttc" id="a_doserings__main_8c_html_a34b8eb6e472ea6ac111dad1f87b8dae5"><div class="ttname"><a href="_doserings__main_8c.html#a34b8eb6e472ea6ac111dad1f87b8dae5">Dosering</a></div><div class="ttdeci">void Dosering(void)</div><div class="ttdef"><b>Definition:</b> <a href="_doserings__main_8c_source.html#l00086">Doserings_main.c:86</a></div></div>
<div class="ttc" id="a_doserings__main_8c_html_a833ae5df42b94980166b3b815a14b91a"><div class="ttname"><a href="_doserings__main_8c.html#a833ae5df42b94980166b3b815a14b91a">InitializePWM</a></div><div class="ttdeci">void InitializePWM(void)</div><div class="ttdef"><b>Definition:</b> <a href="_doserings__main_8c_source.html#l00150">Doserings_main.c:150</a></div></div>
<div class="ttc" id="a_doserings__main_8c_html_ab709b7d4be70f1cf6498fdc3ecf9f288"><div class="ttname"><a href="_doserings__main_8c.html#ab709b7d4be70f1cf6498fdc3ecf9f288">BufSize</a></div><div class="ttdeci">#define BufSize</div><div class="ttdef"><b>Definition:</b> <a href="_doserings__main_8c_source.html#l00030">Doserings_main.c:29</a></div></div>
<div class="ttc" id="a_doserings__main_8c_html_a6fcae6ac5c66199840fe21526701cd10"><div class="ttname"><a href="_doserings__main_8c.html#a6fcae6ac5c66199840fe21526701cd10">InitializeSystem</a></div><div class="ttdeci">void InitializeSystem(void)</div><div class="ttdef"><b>Definition:</b> <a href="_doserings__main_8c_source.html#l00067">Doserings_main.c:67</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
